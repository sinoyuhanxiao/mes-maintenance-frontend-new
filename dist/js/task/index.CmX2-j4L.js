import"../vue/vue.Dfo81L2Q.js";import{_ as O,r as P}from"../../assets/index-fCswSekQ.js";import{j as K,a as G,ah as Q,ai as Y,A as Z,M as X,aj as $,a9 as ee,V as re}from"../@element-plus/@element-plus.BNeHluFm.js";import{am as c,c as N,o as _,K as S,O as h,L as t,Q as d,r as b,w as A,a as l,S as r,R as k,_ as C,j as L,q as z,Z as M,F as V,a8 as I,P as ie}from"../@vue/@vue.CVGyaoMH.js";import{c as H}from"../datetime/datetime.39-ZCqKU.js";import{s as B}from"../work-order/work-order.CtSeOWtO.js";import{w as W}from"../index/index.Cm4f4wca.js";import{C as te}from"../CardTable/CardTable.qteQPHi0.js";import"../element-plus/element-plus.CU5xiOkY.js";import"../lodash-es/lodash-es.BLHqGvLj.js";import"../@popperjs/@popperjs.D_chPuIy.js";import"../@ctrl/@ctrl.r5W6hzzQ.js";import"../dayjs/dayjs.C0sY0_St.js";import"../async-validator/async-validator.D3FX-SGt.js";import"../memoize-one/memoize-one.BdPwpGay.js";import"../normalize-wheel-es/normalize-wheel-es.BQoi3Ox2.js";import"../@floating-ui/@floating-ui.85_40PfK.js";import"../pinia/pinia.CzPcBe5J.js";import"../vue-demi/vue-demi.-dVQ4Px2.js";import"../js-cookie/js-cookie.Cz0CWeBA.js";import"../geotiff/geotiff.Dp1pzeXC.js";import"../vue-router/vue-router.30cuaQZO.js";import"../path-to-regexp/path-to-regexp.i8-bKtXe.js";import"../fuse.js/fuse.js.BiDyM4rQ.js";import"../path-browserify/path-browserify.DkEToxTs.js";import"../screenfull/screenfull.DmVOzVZz.js";import"../vue-i18n/vue-i18n.DjO1PVT4.js";import"../@intlify/@intlify.BhOIvmlS.js";import"../mitt/mitt.DJ65BbbF.js";import"../@vueuse/@vueuse.B5lT-MN9.js";import"../axios/axios.Dq7h7Pqt.js";import"../nprogress/nprogress._Z8YfKSV.js";/* empty css                                 */import"../clipboard/clipboard.DAe4Lk7l.js";import"../vue3-lottie/vue3-lottie.DS19j_I8.js";import"../lottie-web/lottie-web.fKmgUVyQ.js";import"../MaintenanceWorkOrderCard/MaintenanceWorkOrderCard.CBR2k6k0.js";const ae={__name:"AssignButton",props:{assigned:Number,woId:Number,personnelId:Number},emits:["update:assigned"],setup(q,{expose:i,emit:m}){i();const e=q,w=m,g=b(e.assigned);A(()=>e.assigned,u=>{g.value=u});function a(){g.value==1?g.value=0:g.value=1,w("update:assigned",g.value)}const f={props:e,emit:w,currentAssignment:g,handleAssign:a,get Check(){return K},ref:b,watch:A};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}};function le(q,i,m,e,w,g){const a=c("el-button");return _(),N("div",null,[e.currentAssignment===1?(_(),S(a,{key:0,onClick:e.handleAssign,icon:e.Check,type:"success",round:""},{default:t(()=>i[0]||(i[0]=[d("Assigned")])),_:1,__:[0]},8,["icon"])):h("v-if",!0),e.currentAssignment===0?(_(),S(a,{key:1,onClick:e.handleAssign,type:"danger",round:"",plain:""},{default:t(()=>i[1]||(i[1]=[d("Not Assigned")])),_:1,__:[1]})):h("v-if",!0)])}const ne=O(ae,[["render",le],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/components/Tables/Widgets/AssignButton.vue"]]),se={__name:"AssignPersonnel",props:{wo:Object,type:Number,personnelList:Object,supervisorList:Object,from:String},emits:["close"],setup(q,{expose:i,emit:m}){i(),console.log(q.wo);const e=C(q.personnelList),w=b(String(q.type)),g=L(()=>q.supervisorList),a=m,f=b("2"),u=b(537),n=({row:s})=>s.assigned===1?"success-row":"";function p(){a("close",!1)}z(()=>{v(),window.addEventListener("resize",v)}),M(()=>{window.removeEventListener("resize",v)});function v(){window.innerHeight<800&&(u.value=322)}function y(s,T){q.type!==1&&(s===1?g.value.forEach(D=>{D.assigned=D===T?1:0}):T.assigned=0)}const o={personnel:e,listType:w,supervisor:g,emit:a,option:f,tableHeight:u,tableRowClassName:n,handleClose:p,updateTableHeight:v,handleAssignChange:y,get Close(){return G},AssignButton:ne,ref:b,onMounted:z,onBeforeUnmount:M,reactive:C,computed:L};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},de={class:"table-main"},ue={class:"table-group"},oe={key:0,class:"header-group"},me={style:{"font-weight":"bold"}},ce={class:"button-header"},_e={key:1},pe={key:2},be={class:"btn-container"};function ge(q,i,m,e,w,g){const a=c("el-text"),f=c("el-radio-button"),u=c("el-radio-group"),n=c("el-table-column"),p=c("el-switch"),v=c("el-table"),y=c("el-card"),o=c("el-button");return _(),N("div",de,[l("div",ue,[r(y,null,{default:t(()=>[m.from==="table"?(_(),N("div",oe,[r(a,{size:"large"},{default:t(()=>[i[1]||(i[1]=d("Assign Work Order: ")),l("span",me,k(m.wo.name),1)]),_:1,__:[1]}),r(a,null,{default:t(()=>[d("Code: "+k(m.wo.code),1)]),_:1})])):h("v-if",!0),l("div",ce,[h(` <el-radio-group v-model="option" style="margin-bottom: 20px; margin-top: 10px">
            <el-radio-button label="1">Option 1</el-radio-button>
            <el-radio-button label="2">Option 2</el-radio-button>
          </el-radio-group> `),m.from==="table"?(_(),S(u,{key:0,modelValue:e.listType,"onUpdate:modelValue":i[0]||(i[0]=s=>e.listType=s),style:{"margin-bottom":"20px","margin-top":"10px"}},{default:t(()=>[r(f,{label:"2"},{default:t(()=>i[2]||(i[2]=[d("Supervisor")])),_:1,__:[2]}),r(f,{label:"1"},{default:t(()=>i[3]||(i[3]=[d("Personnel")])),_:1,__:[3]})]),_:1},8,["modelValue"])):h("v-if",!0)]),e.option==="1"?(_(),N("div",_e,[r(a,{size:"large"},{default:t(()=>i[4]||(i[4]=[d("Assign Personnel (Option 1)")])),_:1,__:[4]}),r(y,{style:{"margin-top":"10px"}},{default:t(()=>[r(v,{data:e.listType==="1"?e.personnel:e.supervisor,height:e.tableHeight,style:{width:"100%"},"row-class-name":e.tableRowClassName,fit:!0,border:!0},{default:t(()=>[r(n,{prop:"firstName",label:"First Name",sortable:""}),r(n,{prop:"lastName",label:"Last Name",sortable:""}),r(n,{prop:"role",label:"Role",sortable:""}),r(n,{prop:"assigned",label:"Assignment Status"},{default:t(({row:s})=>[r(p,{modelValue:s.assigned,"onUpdate:modelValue":T=>s.assigned=T,class:"ml-2","active-value":1,"inactive-value":0,"active-text":"Assigned","inactive-text":"Unassigned",onChange:T=>e.handleAssignChange(T,s)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data","height"])]),_:1})])):h("v-if",!0),e.option==="2"?(_(),N("div",pe,[r(a,{size:"large"},{default:t(()=>i[5]||(i[5]=[d("Assign Personnel")])),_:1,__:[5]}),r(y,{style:{"margin-top":"10px"}},{default:t(()=>[r(v,{data:e.listType==="1"?e.personnel:e.supervisor,height:e.tableHeight,style:{width:"100%"},fit:!0,border:!0},{default:t(()=>[r(n,{prop:"firstName",label:"First Name",sortable:""}),r(n,{prop:"lastName",label:"Last Name",sortable:""}),r(n,{prop:"role",label:"Role",sortable:""}),r(n,{prop:"assigned",label:"Assignment Status"},{default:t(({row:s})=>[r(e.AssignButton,{onClick:T=>e.handleAssignChange(s.assigned,s),assigned:s.assigned,"onUpdate:assigned":T=>s.assigned=T,woId:m.wo.id,personnelId:s.id,align:"center"},null,8,["onClick","assigned","onUpdate:assigned","woId","personnelId"])]),_:1})]),_:1},8,["data","height"])]),_:1})])):h("v-if",!0),l("div",be,[r(o,{onClick:e.handleClose,type:"primary",icon:e.Close},{default:t(()=>i[6]||(i[6]=[d("Close")])),_:1,__:[6]},8,["icon"])])]),_:1})]),h(" <h4>{{ personnel }}</h4> ")])}const j=O(se,[["render",ge],["__scopeId","data-v-8b431cd2"],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/views/task/components/AssignPersonnel.vue"]]),fe={__name:"ViewTask",props:{wo:Object,height:String,personnelList:Object,supervisorList:Object},setup(q,{expose:i}){i();const m=q,e=b(!1),w=b(1),g=C(m.personnelList),a=L(()=>m.supervisorList),f=[{_id:"20241223-T-1-2--111033",task_name:"Inspect Steam Peeler Unit",estimated_minutes:null,minutes_taken:null,work_order_id:2994,steps:[{name:"加速带-电机温度",type:"numeric_field",description:"温度≤50℃、无异响",required:!0,remarks:null,value:{value:27,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:49,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"加速带-齿轮箱",type:"numeric_field",description:"无异响、无漏油、温度≤50℃",required:!0,remarks:null,value:{value:25,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"加速带-接油盘",type:"inspection",description:"无变形、无缺失、无润滑油",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"加速带-驱动轴承",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"加速带-卷筒",type:"inspection",description:"转动灵活，无异响、无卡顿",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"加速带-皮带",type:"inspection",description:"运行平稳，上下皮带运行跑偏量≤10mm、无颤抖 无磨损、无划伤、无穿孔、无撕裂 边缘整齐无毛边、磨损情况≤5mm",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"加速带-挡板",type:"inspection",description:"不磨皮带，固定螺丝无缺失，挡皮无破损，刮板距离皮带高度3-4mm",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"加速带-与相邻设备距离",type:"inspection",description:"无摩擦碰撞",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-电机温度",type:"numeric_field",description:"温度≤50℃、无异响",required:!0,remarks:null,value:{value:27,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-齿轮箱",type:"numeric_field",description:"无异响、无漏油、温度≤50℃",required:!0,remarks:null,value:{value:46,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-接油盘",type:"inspection",description:"无变形、无缺失、无润滑油",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-驱动轴承",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-卷筒",type:"inspection",description:"转动灵活，无异响、无卡顿",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-皮带",type:"inspection",description:"运行平稳，上下皮带运行跑偏量≤10mm、无颤抖 无磨损、无划伤、无穿孔、无撕裂 边缘整齐无毛边、磨损情况≤5mm",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-挡板",type:"inspection",description:"不磨皮带，固定螺丝无缺失，挡皮无破损，刮板距离皮带高度3-4mm",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-与相邻设备距离",type:"inspection",description:"无摩擦碰撞",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"显示屏幕",type:"inspection",description:"界面无报警，无损坏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"灯光",type:"inspection",description:"灯管无损坏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"镜头反光镜",type:"inspection",description:"表面干净、无损坏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"气枪头",type:"inspection",description:"无堵塞、无松动",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"压缩空气",type:"inspection",description:"无泄漏、气管无老化",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机",type:"inspection",description:"无报警，温度在设定范围内、无异响",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]}],personnel:[{participated:!0,full_name:"马 艺晨",id:98},{participated:!1,full_name:"张 晓军",id:99},{participated:!1,full_name:"王 佩彦",id:86},{participated:!1,full_name:"马 旭康",id:93}],start_date:17349696e5,end_date:null,created_at:1734914639515,updated_at:1735108652640,created_by:86,updated_by:98,module:200,production_line_id:null,equipment_group_id:null,equipment_id:null,component_id:null,task_recurrence_id:"cc85d422-cb95-4212-8566-47272deee4e2",total_steps:null,completed_steps:null,template_id:"67636ce59d543e6ffb5c74fb",state:7},{_id:"20241223-T-1-2--163867",task_name:"Inspect Conveyor Unit",estimated_minutes:null,minutes_taken:null,work_order_id:2994,steps:[{name:"入料皮带（南侧）-与相邻设备距离",type:"inspection",description:"无摩擦碰撞",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（南侧）-风扇罩",type:"inspection",description:"扇叶无污垢，无水渍",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（南侧）-电机温度",type:"numeric_field",description:"温度≤65℃、无异响",required:!0,remarks:null,value:{value:35,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:65,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"入料皮带（南侧）-齿轮箱",type:"numeric_field",description:"无异响、无漏油、温度≤50℃",required:!0,remarks:null,value:{value:30,has_lower_limit:!1,lower_limit:0,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"入料皮带（南侧）-减震垫",type:"inspection",description:"无破损、无裂纹、无变形",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（南侧）-轴承",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"入料皮带（南侧）-接油盘",type:"inspection",description:"清洁无污物",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（南侧）-维修开关",type:"inspection",description:"螺栓无缺失，外壳无损坏、格兰头无松动，表面无水渍",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14a24e5f102bec25cd28",name:"摸"}]},{name:"入料皮带（南侧）-输送带",type:"inspection",description:"运行平稳、无颤抖、粘料，下层输送带不得与积料摩擦,边缘整齐无毛边,两侧接头无开裂、无断裂",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（南侧）-挡板",type:"inspection",description:"无变形、不磨皮带，不漏产品",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（南侧）-主架螺栓",type:"inspection",description:"紧固无松动、无缺失",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-柜门",type:"inspection",description:"柜门关严锁紧，密封良好无进水、内部卫生干净",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-开关、按钮",type:"inspection",description:"接线无松动，线缆无变色",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-滤水器",type:"inspection",description:"无堵塞，无漏水，无损坏",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-电磁阀",type:"inspection",description:"接头无漏气、备件无损坏",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-气压检查",type:"numeric_field",description:"压力表无破损，确认输入压力>6bar(90 psi)",required:!0,remarks:null,value:{value:6,has_lower_limit:!0,lower_limit:6,has_upper_limit:!1,upper_limit:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-气压检查",type:"numeric_field",description:"分拣指气压为3.5bar(52 psi)",required:!0,remarks:null,value:{value:3.5,has_lower_limit:!0,lower_limit:3.5,has_upper_limit:!0,upper_limit:3.5,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-气压检查",type:"numeric_field",description:"擦拭器气压为4 bar(60 psi)",required:!0,remarks:null,value:{value:4,has_lower_limit:!0,lower_limit:4,has_upper_limit:!0,upper_limit:4,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-气压检查",type:"numeric_field",description:"外壳气压为0.25bar(3.5 psi)",required:!0,remarks:null,value:{value:.25,has_lower_limit:!0,lower_limit:.25,has_upper_limit:!0,upper_limit:.25,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-气压检查",type:"numeric_field",description:"空气弹簧压力1.28Bar(18 psi)",required:!0,remarks:null,value:{value:1.28,has_lower_limit:!0,lower_limit:1.28,has_upper_limit:!0,upper_limit:1.28,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-加注润滑器油槽",type:"inspection",description:"无缺油　加注TOMRA 食品级轻油 P/N 901810 ",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-储油瓶",type:"inspection",description:"储油量不能最低油位刻度线，吸油管能吸到油",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（皮带南侧）-供气和供水软管及接头",type:"inspection",description:"供气、供水软管无破裂、无扭曲，接头无漏水漏气",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"擦拭器组件-擦拭器刮刀",type:"inspection",description:"无损坏、无缺失",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"擦拭器组件-机械指/气缸组件",type:"inspection",description:"无松动、无缺失、无漏气",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"擦拭器组件-主架螺栓",type:"inspection",description:"紧固无松动、无缺失",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"擦拭器组件-水路接头",type:"inspection",description:"无泄漏、无老化",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"擦拭器组件-胶帘",type:"inspection",description:"胶帘无破损，固定螺栓无缺失、无松动",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"操作屏-界面",type:"inspection",description:"操作灵敏，无报警信息",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"操作屏-设备电缆",type:"inspection",description:"固定整洁，线缆保护层无破损、接头无松动、无损坏老化",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"操作屏-外表",type:"inspection",description:"无损坏、无破损",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"入料皮带（北侧）-轴承（两块）",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"入料皮带（北侧）-主架螺栓",type:"inspection",description:"紧固无松动、无缺失",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（北侧）-柜门",type:"inspection",description:"柜门关严锁紧，密封良好无进水、内部卫生干净",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜（北侧）-开关、按钮",type:"inspection",description:"接线无松动，线缆无变色",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]}],personnel:[{participated:!0,full_name:"马 艺晨",id:98},{participated:!1,full_name:"张 晓军",id:99},{participated:!1,full_name:"王 佩彦",id:86},{participated:!1,full_name:"马 旭康",id:93}],start_date:17349696e5,end_date:null,created_at:1734914639504,updated_at:1735003034908,created_by:86,updated_by:98,module:200,production_line_id:null,equipment_group_id:null,equipment_id:null,component_id:null,task_recurrence_id:"347241d4-baf0-4a40-bb31-535e40c93322",total_steps:null,completed_steps:null,template_id:"675111b89c81a65fc7766a00",state:7},{_id:"20241223-T-1-2--884957",task_name:"Inspect PEF",estimated_minutes:null,minutes_taken:null,work_order_id:2994,steps:[{name:"输送机-网带 ",type:"inspection",description:"无磨损、位置居中",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"输送机-接油盘",type:"inspection",description:"无变形、无缺失、无润滑油",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"输送机-皮带刮板",type:"inspection",description:"距离适中，可有效刮掉水渍及土豆。",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"输送机-皮带侧挡板",type:"inspection",description:"皮带与挡板无摩擦，无破损",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"输送机-被动轴承",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"输送机-进/排水阀门",type:"inspection",description:"无损坏，无漏水，无漏气、管路无漏水",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"输送机-网带支撑轮",type:"inspection",description:"无损坏、转动灵活、轴承无生锈、无异响",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"电动机控制电柜-触摸屏",type:"inspection",description:"1.水位保持在67±5cm左右 2.电导率：启机后逐渐稳定在1200左右（范围400-1300） 3.频率100-300Hz之间 4.电流　稳定在2500A以下 5.电导率超过1200后观察进／排水正常打开、关闭，进行换水",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电动机控制电柜-触摸屏下方各按钮",type:"inspection",description:"无损坏，工作灯正常亮",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电动机控制电柜-柜门",type:"inspection",description:"关严锁紧，密封无损坏",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电动机控制电柜-电柜下方格兰头",type:"inspection",description:"备用电缆孔封堵严实，格兰头无松动，锁紧口处电缆无破皮",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14a24e5f102bec25cd28",name:"摸"}]},{name:"电动机控制电柜-电源开关",type:"inspection",description:"无损坏、表面无水渍",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"高压发生器-柜门",type:"inspection",description:"关严锁紧，密封无损坏",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"高压发生器-电源开关",type:"inspection",description:"无损坏、表面无水渍",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"高压发生器-触摸屏",type:"inspection",description:"无损坏、触摸灵敏",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14a24e5f102bec25cd28",name:"摸"}]},{name:"高压发生器-触摸屏下方各按钮",type:"inspection",description:"无损坏，工作灯正常亮",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"油/水冷却系统-油泵",type:"inspection",description:"无异响，无损坏，无漏油",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"油/水冷却系统-热交换器",type:"inspection",description:"无损坏，无漏水，无漏油",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"油/水冷却系统-水压表",type:"numeric_field",description:"指示压力0.6±0.2bar",required:!0,remarks:null,value:{value:.7,has_lower_limit:!0,lower_limit:.4,has_upper_limit:!0,upper_limit:.8,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-恒温控制器",type:"inspection",description:"无报警，温度应于设定值相近",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-风机",type:"numeric_field",description:"无损坏、无异响、温度为30-50度",required:!0,remarks:null,value:{value:35,has_lower_limit:!0,lower_limit:30,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"冷水机-进水／出水管路",type:"inspection",description:"无漏水，管箍无生锈严重损坏",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-水泵电机",type:"numeric_field",description:"无损坏、无异响、温度为30-50度",required:!0,remarks:null,value:{value:38,has_lower_limit:!0,lower_limit:30,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-水泵压力表",type:"numeric_field",description:"泵压应在应介于2.8-3.3bar",required:!0,remarks:null,value:{value:2.7,has_lower_limit:!0,lower_limit:2.8,has_upper_limit:!0,upper_limit:3.3,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-高压表",type:"numeric_field",description:"检查压缩机高压是否正常，高压范围 1.0-2.0bar",required:!0,remarks:null,value:{value:1,has_lower_limit:!0,lower_limit:1,has_upper_limit:!0,upper_limit:2,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-低压表",type:"numeric_field",description:"检查压缩机低压是否正常，低压范围 0.2-0.65bar",required:!0,remarks:null,value:{value:.6,has_lower_limit:!0,lower_limit:.2,has_upper_limit:!0,upper_limit:.65,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-旁路阀",type:"inspection",description:"无漏水，无生锈严重",required:!0,remarks:"",value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]}],personnel:[{participated:!1,full_name:"马 艺晨",id:98},{participated:!1,full_name:"张 晓军",id:99},{participated:!1,full_name:"王 佩彦",id:86},{participated:!0,full_name:"马 旭康",id:93}],start_date:17349696e5,end_date:null,created_at:1734914638673,updated_at:1734933261623,created_by:86,updated_by:93,module:200,production_line_id:2,equipment_group_id:134,equipment_id:null,component_id:null,task_recurrence_id:"db6901db-0823-4cb6-ad5a-cc8db06d3e1a",total_steps:null,completed_steps:null,template_id:"675a6ff179fb6728f03a576e",state:12},{_id:"20241223-T-1-2--045936",task_name:"Complete Daily Maintenance Checklist",estimated_minutes:null,minutes_taken:null,work_order_id:2994,steps:[{name:"传送带-皮带",type:"inspection",description:"运行平稳，上下皮带运行跑偏量≤10mm、无颤抖、粘料、下层皮带不得与积料摩擦 无磨损、无划伤、无穿孔、无撕裂、无龟裂 边缘整齐无毛边、磨损情况≤5mm 皮带凹槽与振筛凹槽对齐",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:["http://mes.svf-lps.cn:9000/sv-file-bucket/20241223054615.jpg"]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-挡板",type:"inspection",description:"无变形、无损坏，固定螺丝无缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-轴承",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"传送带-轴承护罩",type:"inspection",description:"无损坏，固定螺丝无松动缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14a24e5f102bec25cd28",name:"摸"}]},{name:"传送带-气接头、油嘴及打油管",type:"inspection",description:"无损坏、无缺失，无漏油，油管固定好，不与转动部件摩擦",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-压缩空气管及气接头",type:"inspection",description:"无漏气",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-气囊",type:"inspection",description:"无损坏，无漏气",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-气囊间距调节螺栓",type:"numeric_field",description:"螺栓外漏10-20mm",required:!0,remarks:null,value:{value:15,has_lower_limit:!0,lower_limit:10,has_upper_limit:!0,upper_limit:20,require_image:!0,image:[]},tools:[],methods:[]},{name:"传送带-拨指架",type:"inspection",description:"无损坏变形开焊，螺栓无缺失",required:!0,remarks:"",value:{value:!1,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-拨指",type:"inspection",description:"与皮带无摩擦、碰撞，无缺失，拨指26根，距离皮带3-4mm，固定螺栓无松动，无缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-毛刷",type:"inspection",description:"高度1-2mm，调节手柄、定位插销牢固无缺失，毛刷不掉毛，不产生摩擦，电源接线盒密封良好无进水",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-水阀",type:"inspection",description:"水管水阀无漏水，无损坏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-喷头",type:"inspection",description:"无堵塞，无损坏，无缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-灯管",type:"inspection",description:"无不亮",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-灯罩",type:"inspection",description:"无损坏，无缺失，无严重划痕",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-皮带上方相机视窗",type:"inspection",description:"无损坏，无脏污",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-电机温度",type:"numeric_field",description:"温度≤65℃、无异响",required:!0,remarks:null,value:{value:45,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:65,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"传送带-齿轮箱",type:"numeric_field",description:"无异响、无漏油、温度≤65℃",required:!0,remarks:null,value:{value:52,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:65,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"传送带-接油盘",type:"inspection",description:"无变形、无缺失、无润滑油",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-刮板",type:"inspection",description:"无损坏、磨损量≤2mm、刮板和固定螺丝无缺失，弹簧无缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-机床滑板",type:"inspection",description:"无损坏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"传送带-皮带跑偏传感器",type:"inspection",description:"与刮板距离合适，感应灵敏，能检测皮带跑偏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-操作屏",type:"inspection",description:"无报警",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-紧急停止按钮",type:"inspection",description:"无损坏，接线无松动",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-红绿双色按钮（带灯）",type:"inspection",description:"无损坏，接线无松动",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-复位按钮（带灯）",type:"inspection",description:"无损坏，接线无松动",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-主电源隔离开关",type:"inspection",description:"无损坏，接线无松动",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-恒温控制器",type:"inspection",description:"无报警，温度应于设定值相近",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:["http://mes.svf-lps.cn:9000/sv-file-bucket/20241223054851.jpg"]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-风机",type:"inspection",description:"无损坏、无异响、温度为30-50度",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-进水／出水管路",type:"inspection",description:"无漏水，管箍无生锈严重损坏",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-水泵电机",type:"inspection",description:"无损坏、无异响、温度为30-50度",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"冷水机-水泵压力表",type:"numeric_field",description:"泵压应在应介于2.8-3.3bar",required:!0,remarks:null,value:{value:3,has_lower_limit:!0,lower_limit:2.8,has_upper_limit:!0,upper_limit:3.3,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-高压表",type:"numeric_field",description:"检查压缩机高压是否正常，高压范围 1.0-2.0bar",required:!0,remarks:null,value:{value:1,has_lower_limit:!0,lower_limit:1,has_upper_limit:!0,upper_limit:2,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-低压表",type:"numeric_field",description:"检查压缩机低压是否正常，低压范围 0.2-0.65bar",required:!0,remarks:null,value:{value:.2,has_lower_limit:!0,lower_limit:.2,has_upper_limit:!0,upper_limit:.65,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"冷水机-旁路阀",type:"inspection",description:"无漏水，无生锈严重",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]}],personnel:[{participated:!1,full_name:"马 艺晨",id:98},{participated:!1,full_name:"张 晓军",id:99},{participated:!1,full_name:"王 佩彦",id:86},{participated:!0,full_name:"马 旭康",id:93}],start_date:17349696e5,end_date:null,created_at:1734914639510,updated_at:1734933020625,created_by:86,updated_by:93,module:200,production_line_id:null,equipment_group_id:null,equipment_id:null,component_id:null,task_recurrence_id:"d6b33bfd-9ab7-4f74-bfd1-848694085b9b",total_steps:null,completed_steps:null,template_id:"6762643a9d543e6ffb5c74f1",state:12},{_id:"20241223-T-1-2--246126",task_name:"通用-5B光选机-JM016",estimated_minutes:null,minutes_taken:null,work_order_id:2994,steps:[{name:"主皮带-电机温度",type:"numeric_field",description:"温度≤65℃、无异响",required:!0,remarks:null,value:{value:55,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:65,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-齿轮箱",type:"numeric_field",description:"无异响、无漏油、温度≤50℃",required:!0,remarks:null,value:{value:45,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-接油盘",type:"inspection",description:"无变形、无缺失、无润滑油",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-驱动轴承",type:"inspection",description:"润滑良好、无过度润滑、无异响",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-皮带",type:"inspection",description:"运行平稳，上下皮带运行跑偏量≤10mm、无颤抖 无磨损、无划伤、无穿孔、无撕裂 边缘整齐无毛边、磨损情况≤5mm",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-挡板",type:"inspection",description:"不磨皮带，固定螺丝无缺失，挡皮无破损，刮板距离皮带高度3-4mm",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-与相邻设备距离",type:"inspection",description:"无摩擦碰撞",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-主电源开关",type:"inspection",description:"无损坏，表面无水渍",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-急停按钮",type:"inspection",description:"无损坏，表面无水渍",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-喷射器",type:"inspection",description:"听有无一直漏气的喷射器",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"主皮带-喷射器位置调节器",type:"inspection",description:'"与原始刻度保持一致 西侧垂直方向刻度5.5水平方向刻度4.5 东侧垂直方向刻度5.5水平方向刻度4.5 "',required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-分料滑槽",type:"inspection",description:'"与原始刻度保持一致 西侧垂直方向刻度9水平方向刻度4 东侧垂直方向刻度9水平方向刻度4 "',required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-皮带清洁刮板",type:"inspection",description:"刮板无损坏、磨损量≤1mm、固定架螺丝无松动，无缺失，与皮带的涨紧度以能挂掉异物不能刮伤皮带",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-喷嘴",type:"inspection",description:"喷水呈雾状、无堵塞",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-皮带内侧Ｖ字形刮板",type:"inspection",description:"刮板无损坏、磨损量≤1mm、固定架螺丝无松动，无缺失，与皮带的涨紧度以能挂掉异物不能刮伤皮带",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"主皮带-地脚螺栓",type:"inspection",description:"无松动、无缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-报警灯",type:"inspection",description:"外观无损坏，无缺失",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:["http://mes.svf-lps.cn:9000/sv-file-bucket/20241223054209.jpg"]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-电柜与喷射单元连接线蓝色护套",type:"inspection",description:"外观无损坏，护套两端接口锁紧",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14a24e5f102bec25cd28",name:"摸"}]},{name:"电柜-触摸屏",type:"inspection",description:"显示正常，无报警",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-触摸屏下方的控制元件",type:"inspection",description:'"1.分选机电源开关按钮无损坏 2.运动件开/关按钮无损坏 3.清洁模式按钮 无损坏 4.手动/自动开关　无损坏 5.重置按钮 - 蓝色，无损坏 6.备用位置无进水，无损坏 7.USB连接，盖子盖好，无损坏，无进水"',required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"电柜-柜门",type:"inspection",description:"柜门关严锁紧，密封良好无进水",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"水冷机-恒温控制器",type:"inspection",description:"无报警，温度设定值相近",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"水冷机-风机",type:"numeric_field",description:"无损坏、无异响、温度≤50℃",required:!0,remarks:null,value:{value:38,has_lower_limit:!1,lower_limit:null,has_upper_limit:!0,upper_limit:50,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"},{_id:"673d14cd4e5f102bec25cd2a",name:"听"}]},{name:"水冷机-水泵压力表",type:"numeric_field",description:"泵压应在应介于3-4bar",required:!0,remarks:null,value:{value:3.5,has_lower_limit:!0,lower_limit:3,has_upper_limit:!0,upper_limit:4,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"水冷机-滤水器压力表",type:"numeric_field",description:"压力≤1bar（10PSI）",required:!0,remarks:null,value:{value:.6,has_lower_limit:!0,lower_limit:1,has_upper_limit:!1,upper_limit:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"水冷机-水旁路阀门",type:"inspection",description:"无漏水，无生锈",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"水冷机-冷凝器",type:"inspection",description:"无漏水，无漏冷媒介质，无生锈",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]},{name:"水冷机-进水/出水管路",type:"inspection",description:"无漏水，管箍无生锈",required:!0,remarks:null,value:{value:!0,remarks:null,require_image:!0,image:[]},tools:[],methods:[{_id:"673d149b4e5f102bec25cd27",name:"看"}]}],personnel:[{participated:!1,full_name:"马 艺晨",id:98},{participated:!1,full_name:"张 晓军",id:99},{participated:!1,full_name:"王 佩彦",id:86},{participated:!0,full_name:"马 旭康",id:93}],start_date:17349696e5,end_date:null,created_at:1734914639498,updated_at:1734932615011,created_by:86,updated_by:93,module:200,production_line_id:null,equipment_group_id:null,equipment_id:null,component_id:null,task_recurrence_id:"91a7d019-a5b5-488d-bd49-b7a3f77bd52f",total_steps:null,completed_steps:null,template_id:"67625f049d543e6ffb5c74f0",state:12}],u=b(null);A(()=>m.wo,()=>{u.value=null});function n(){P.push({name:"ViewWorkOrder",params:{id:m.wo.id}})}function p(s){u.value=s,console.log(u.value)}function v(s){e.value=s}function y(s){w.value=s,e.value=!0}const o={woData:m,assignPersonnel:e,listType:w,personnel:g,supervisor:a,tasks:f,selectedTask:u,handleSelectedWorkorder:n,selectTask:p,handleCloseRequest:v,handleAssign:y,ref:b,watch:A,reactive:C,computed:L,get router(){return P},get Minus(){return Z},get Avatar(){return Y},get User(){return Q},AssignPersonnel:j,get convertToLocalTime(){return H}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},ve={class:"view-container"},ke={class:"header-container"},he={class:"header-right"},qe={key:1,class:"inner-container"},ye={class:"personnel-container"},we={class:"supervisor-container"},Ne={class:"card-header"},Te={class:"card-body"},xe={class:"personnel-card"},Ce={class:"assign-button"},Se={class:"technician-container"},Le={class:"card-header"},Ae={class:"card-body"},Pe={class:"assign-button"},Oe={class:"task-container"},De={class:"card-header"},Ve={class:"task-card-body"},ze={class:"task-list"},Me=["onClick"],Ie={key:0},We={key:0,class:"steps-card"},Ee={class:"step-card"},Be={class:"step-header"},He={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},je={class:"step-list"};function Re(q,i,m,e,w,g){const a=c("el-text"),f=c("el-link"),u=c("el-icon"),n=c("el-button"),p=c("el-card"),v=c("el-breadcrumb-item"),y=c("el-breadcrumb");return _(),N("div",ve,[r(p,{style:{flex:"1"}},{default:t(()=>[l("div",ke,[r(a,{size:"large",tag:"b",class:"w-150px mb-2"},{default:t(()=>[d("Work Order Name: "+k(m.wo.name),1)]),_:1}),l("div",he,[r(a,null,{default:t(()=>[d("Due Date: "+k(e.convertToLocalTime(m.wo.due_date)),1)]),_:1}),l("div",null,[r(f,{style:{"margin-left":"10px"},type:"primary",onClick:e.handleSelectedWorkorder},{default:t(()=>i[3]||(i[3]=[d("WO Details")])),_:1,__:[3]})])])]),e.assignPersonnel==!0?(_(),S(e.AssignPersonnel,{key:0,onClose:e.handleCloseRequest,wo:m.wo,personnelList:e.personnel,supervisorList:e.supervisor,type:e.listType},null,8,["wo","personnelList","supervisorList","type"])):h("v-if",!0),e.assignPersonnel==!1?(_(),N("div",qe,[l("div",ye,[l("div",we,[r(p,{class:"card-shadow"},{default:t(()=>[l("div",Ne,[r(a,{size:"large"},{default:t(()=>i[4]||(i[4]=[d("Approving Supervisor")])),_:1,__:[4]}),i[5]||(i[5]=l("hr",null,null,-1))]),l("div",Te,[l("div",xe,[r(u,null,{default:t(()=>[r(e.Avatar)]),_:1}),r(a,null,{default:t(()=>[d(k(e.supervisor.find(o=>o.assigned===1).firstName)+" "+k(e.supervisor.find(o=>o.assigned===1).lastName),1)]),_:1})])]),l("div",Ce,[r(n,{onClick:i[0]||(i[0]=o=>e.handleAssign(2)),type:"primary",size:"small",round:""},{default:t(()=>i[6]||(i[6]=[d("Assign Supervisor →")])),_:1,__:[6]})])]),_:1})]),l("div",Se,[r(p,{class:"card-shadow"},{default:t(()=>[l("div",Le,[r(a,{size:"large"},{default:t(()=>i[7]||(i[7]=[d("Maintenance Personnel")])),_:1,__:[7]}),i[8]||(i[8]=l("hr",null,null,-1))]),l("div",Ae,[r(y,{separator:"/"},{default:t(()=>[(_(!0),N(V,null,I(e.personnel.filter(o=>o.assigned==1),o=>(_(),S(v,{key:o.id},{default:t(()=>[r(u,null,{default:t(()=>[r(e.User)]),_:1}),d(" "+k(o.firstName)+" "+k(o.lastName),1)]),_:2},1024))),128))]),_:1})]),l("div",Pe,[r(n,{onClick:i[1]||(i[1]=o=>e.handleAssign(1)),type:"primary",size:"small",round:""},{default:t(()=>i[9]||(i[9]=[d("Assign Personnel →")])),_:1,__:[9]})])]),_:1})]),l("div",Oe,[r(p,{class:"card-shadow"},{default:t(()=>[l("div",De,[r(a,{size:"large"},{default:t(()=>i[10]||(i[10]=[d("Task List")])),_:1,__:[10]}),i[11]||(i[11]=l("hr",null,null,-1))]),l("div",Ve,[l("ul",ze,[(_(),N(V,null,I(e.tasks,(o,s)=>l("li",{onClick:T=>e.selectTask(s),class:"task-card",key:s},[r(p,{style:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"nowrap"}},{default:t(()=>[r(a,{type:e.selectedTask===s?"primary":"info"},{default:t(()=>[l("span",null,k(s+1)+". "+k(o.task_name),1),e.selectedTask===null?(_(),N("span",Ie," : "+k(o._id),1)):h("v-if",!0)]),_:2},1032,["type"])]),_:2},1024)],8,Me)),64))]),e.selectedTask>=0&&e.selectedTask!=null?(_(),N("div",We,[r(p,{class:"card-shadow"},{default:t(()=>[l("div",Ee,[l("div",Be,[l("div",He,[r(a,{class:"mx-1",size:"small"},{default:t(()=>[d(k(e.tasks[e.selectedTask]._id),1)]),_:1}),r(n,{onClick:i[2]||(i[2]=o=>e.selectedTask=null),icon:e.Minus,size:"small",circle:"",class:"minus-style"},null,8,["icon"])]),r(a,{size:"large"},{default:t(()=>i[12]||(i[12]=[d("Steps")])),_:1,__:[12]}),i[13]||(i[13]=l("hr",null,null,-1))]),l("ul",je,[(_(!0),N(V,null,I(e.tasks[e.selectedTask].steps,(o,s)=>(_(),N("li",{class:"step-card",key:s},[r(a,{size:"small"},{default:t(()=>[d(k(s+1)+". "+k(o.name),1)]),_:2},1024)]))),128))])])]),_:1})])):h("v-if",!0)])]),_:1})])])])):h("v-if",!0)]),_:1})])}const Ue=O(fe,[["render",Re],["__scopeId","data-v-ba80be6f"],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/views/task/components/ViewTask.vue"]]),Fe={__name:"TableView",setup(q,{expose:i}){i();const m=b(!1),e=b(null),w=L(()=>W[e.value]),g=b(2),a=C([{id:1,firstName:"John",lastName:"Andrews",assigned:0,role:"Technician"},{id:2,firstName:"Maria",lastName:"Lopez",assigned:1,role:"Supervisor"},{id:3,firstName:"James",lastName:"Nguyen",assigned:0,role:"Electrician"},{id:4,firstName:"Sara",lastName:"Lee",assigned:0,role:"Technician"},{id:5,firstName:"David",lastName:"Patel",assigned:0,role:"Planner"},{id:6,firstName:"Emily",lastName:"Martinez",assigned:0,role:"Mechanic"},{id:7,firstName:"Brian",lastName:"Smith",assigned:0,role:"Technician"},{id:8,firstName:"Olivia",lastName:"Hernandez",assigned:0,role:"Electrician"},{id:9,firstName:"Daniel",lastName:"Kim",assigned:0,role:"Supervisor"},{id:10,firstName:"Ava",lastName:"Brown",assigned:0,role:"Planner"},{id:11,firstName:"William",lastName:"Clark",assigned:0,role:"Technician"},{id:12,firstName:"Zoey",lastName:"Duan",assigned:1,role:"Mechanic"},{id:13,firstName:"Logan",lastName:"Adams",assigned:0,role:"Technician"},{id:14,firstName:"Chloe",lastName:"Scott",assigned:0,role:"Electrician"},{id:15,firstName:"Henry",lastName:"Green",assigned:0,role:"Supervisor"},{id:16,firstName:"Isabella",lastName:"Baker",assigned:0,role:"Technician"},{id:17,firstName:"Erik",lastName:"Yu",assigned:1,role:"Planner"},{id:18,firstName:"Lily",lastName:"Turner",assigned:0,role:"Mechanic"},{id:19,firstName:"Justin",lastName:"Tung",assigned:1,role:"Technician"},{id:20,firstName:"Mia",lastName:"Parker",assigned:0,role:"Supervisor"}]),f=C([{id:1,firstName:"Richard",lastName:"Drew",assigned:0,role:"Supervisor"},{id:2,firstName:"Maria",lastName:"Lopez",assigned:0,role:"Supervisor"},{id:3,firstName:"Yao",lastName:"Li",assigned:1,role:"Supervisor"},{id:9,firstName:"Daniel",lastName:"Kim",assigned:0,role:"Supervisor"},{id:15,firstName:"Henry",lastName:"Green",assigned:0,role:"Supervisor"},{id:20,firstName:"Mia",lastName:"Parker",assigned:0,role:"Supervisor"}]),u=b(W);function n(y){e.value=y,m.value=!0}function p(){m.value=!1}const v={assignPersonnel:m,selectedWorkOrder:e,selectedData:w,listType:g,personnel:a,supervisor:f,tableData:u,selectAndAssign:n,handleCloseRequest:p,get workOrdersWithTasks(){return W},ref:b,reactive:C,computed:L,get convertToLocalTime(){return H},get router(){return P},AssignPersonnel:j};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},Je={class:"page-layout"},Ke={class:"body-container"},Ge={class:"table-body"};function Qe(q,i,m,e,w,g){const a=c("el-table-column"),f=c("el-table"),u=c("el-button");return _(),N("div",Je,[l("div",Ke,[l("div",Ge,[r(f,{data:e.tableData,style:{width:"100%","margin-bottom":"20px"},"row-key":"id",border:"",height:"100%"},{default:t(()=>[r(a,{type:"expand",fixed:""},{default:t(({row:n})=>[n.task_list&&n.task_list.length?(_(),S(f,{key:0,data:n.task_list,size:"small",border:"",style:{width:"85vw","margin-left":"60px"}},{default:t(()=>[r(a,{fixed:"",prop:"task_name",label:"Task Name",width:"250px"}),r(a,{prop:"_id",label:"Task Code"}),r(a,{prop:"state",label:"State",width:"140px"}),r(a,{prop:"estimated_minutes",label:"Estimated Minutes",width:"150px"}),r(a,{label:"Step Count",width:"140px"},{default:t(({row:p})=>[d(k(p.steps.length),1)]),_:2},1024)]),_:2},1032,["data"])):(_(),N(V,{key:1},[h(` <ul v-if="row.task_list && row.task_list.length" class="task-list">
                <el-text tag="b">Associated Tasks</el-text>
                <li  v-for="task in row.task_list" v-bind:key="task.id">
                  <el-descriptions border :column="3" style="width:80%;">
                    <el-descriptions-item width='120px'>
                      <template #label>
                        <el-icon><Suitcase /></el-icon> Task
                      </template>
                      {{ task.task_name }}
                    </el-descriptions-item>

                    <el-descriptions-item width='120px'>
                      <template #label>
                        <el-icon><Memo /></el-icon> Task Code
                      </template>
                      {{ task._id }}
                    </el-descriptions-item>

                    <el-descriptions-item width='100px'>
                      <template #label>
                        <el-icon><List /></el-icon> Step Count
                      </template>
                      {{ task.steps?.length || 0 }}
                    </el-descriptions-item>

                    <el-descriptions-item width='120px'>
                      <template #label>
                        <el-icon><Flag /></el-icon> State
                      </template>
                      {{ task.state }}
                    </el-descriptions-item>

                    <el-descriptions-item  width='120px'>
                      <template #label>
                        <el-icon><Timer /></el-icon> Estimated Minutes
                      </template>
                      {{ task.estimated_minutes ?? 'N/A' }}
                    </el-descriptions-item>
                  </el-descriptions>
                </li>
              </ul> `),i[0]||(i[0]=l("div",{style:{padding:"10px",color:"gray"}},"No tasks available",-1))],2112))]),_:1}),r(a,{fixed:"",prop:"name",label:"Work Order",sortable:"","min-width":"200px"}),r(a,{prop:"code",label:"Code",sortable:"","min-width":"220px"}),r(a,{prop:"description",label:"Description",sortable:"","min-width":"220px"}),r(a,{prop:"state.name",label:"State",sortable:"",width:"140px"}),r(a,{prop:"priority.name",label:"Priority",sortable:"",width:"140px"}),r(a,{prop:"recurrence_type.name",label:"Recurrence",sortable:"",width:"140px"}),r(a,{prop:"work_type.name",label:"Work Type",sortable:"",width:"140px"}),r(a,{label:"Start Date",sortable:"","min-width":"180px"},{default:t(({row:n})=>[d(k(e.convertToLocalTime(n.start_date)),1)]),_:1}),r(a,{label:"Due Date",sortable:"","min-width":"180px"},{default:t(({row:n})=>[d(k(e.convertToLocalTime(n.due_date)),1)]),_:1}),r(a,{prop:"created_by",label:"Created By",sortable:"",width:"140px"}),r(a,{label:"Creation Date",sortable:"","min-width":"180px"},{default:t(({row:n})=>[d(k(e.convertToLocalTime(n.created_at)),1)]),_:1}),h(" Actions "),r(a,{label:q.$t("workOrder.table.actions"),align:"center",width:"250","class-name":"small-padding fixed-width action-column",fixed:"right"},{default:t(({row:n,$index:p})=>[r(u,{type:"success",size:"large",onClick:()=>e.router.push({name:"ViewWorkOrder",params:{id:n.id}})},{default:t(()=>i[1]||(i[1]=[d(" View ")])),_:2,__:[1]},1032,["onClick"]),r(u,{type:"primary",size:"large",onClick:v=>e.selectAndAssign(p)},{default:t(()=>i[2]||(i[2]=[d(" Assign ")])),_:2,__:[2]},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),e.assignPersonnel==!0?(_(),S(e.AssignPersonnel,{key:0,onClose:e.handleCloseRequest,wo:e.selectedData,personnelList:e.personnel,supervisorList:e.supervisor,type:e.listType,from:"table"},null,8,["wo","personnelList","supervisorList","type"])):h("v-if",!0)])])}const Ye=O(Fe,[["render",Qe],["__scopeId","data-v-711d28b0"],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/views/task/components/TableView.vue"]]),Ze={__name:"index",setup(q,{expose:i}){i();const m=b("298px"),e=b([]),w=b(0),g=b(1),a=b({latest_per_recurrence:!1}),f=C({page:1,limit:10,sort:"-id"}),u=b(null);async function n(){const x=await B(f.page,f.limit,"createdAt","DESC",a.value);e.value=x.data.content,w.value=x.data.totalElements,u.value=e.value[0]}n();const p=b(null);A(()=>p.value,x=>{a.value.keyword=x}),A(()=>a,x=>{n()},{immediate:!0,deep:!0});const v=b("730px");function y(){v.value=window.innerWidth<=1600?"521px":"737px"}z(()=>{y(),window.addEventListener("resize",y)}),M(()=>{window.removeEventListener("resize",y)});function o(x){u.value=x,console.log(u.value)}function s(){P.push({name:"NewWorkOrder"})}const T=x=>{f.page=x,n()},D=x=>{g.value=x==="a"?2:1},R=L(()=>g.value===2?"Table View":"Dashboard View"),U=L(()=>g.value===2?"List":"Menu"),F=C([{id:1,firstName:"John",lastName:"Andrews",assigned:0,role:"Technician"},{id:2,firstName:"Maria",lastName:"Lopez",assigned:1,role:"Supervisor"},{id:3,firstName:"James",lastName:"Nguyen",assigned:0,role:"Electrician"},{id:4,firstName:"Sara",lastName:"Lee",assigned:0,role:"Technician"},{id:5,firstName:"David",lastName:"Patel",assigned:0,role:"Planner"},{id:6,firstName:"Emily",lastName:"Martinez",assigned:0,role:"Mechanic"},{id:7,firstName:"Brian",lastName:"Smith",assigned:0,role:"Technician"},{id:8,firstName:"Olivia",lastName:"Hernandez",assigned:0,role:"Electrician"},{id:9,firstName:"Daniel",lastName:"Kim",assigned:0,role:"Supervisor"},{id:10,firstName:"Ava",lastName:"Brown",assigned:0,role:"Planner"},{id:11,firstName:"William",lastName:"Clark",assigned:0,role:"Technician"},{id:12,firstName:"Zoey",lastName:"Duan",assigned:1,role:"Mechanic"},{id:13,firstName:"Logan",lastName:"Adams",assigned:0,role:"Technician"},{id:14,firstName:"Chloe",lastName:"Scott",assigned:0,role:"Electrician"},{id:15,firstName:"Henry",lastName:"Green",assigned:0,role:"Supervisor"},{id:16,firstName:"Isabella",lastName:"Baker",assigned:0,role:"Technician"},{id:17,firstName:"Erik",lastName:"Yu",assigned:1,role:"Planner"},{id:18,firstName:"Lily",lastName:"Turner",assigned:0,role:"Mechanic"},{id:19,firstName:"Justin",lastName:"Tung",assigned:1,role:"Technician"},{id:20,firstName:"Mia",lastName:"Parker",assigned:0,role:"Supervisor"}]),J=C([{id:1,firstName:"Richard",lastName:"Drew",assigned:0,role:"Supervisor"},{id:2,firstName:"Maria",lastName:"Lopez",assigned:0,role:"Supervisor"},{id:3,firstName:"Yao",lastName:"Li",assigned:1,role:"Supervisor"},{id:9,firstName:"Daniel",lastName:"Kim",assigned:0,role:"Supervisor"},{id:15,firstName:"Henry",lastName:"Green",assigned:0,role:"Supervisor"},{id:20,firstName:"Mia",lastName:"Parker",assigned:0,role:"Supervisor"}]),E={height:m,items:e,totalItems:w,currentView:g,search:a,listQuery:f,selectedData:u,getAllWorkOrdersData:n,keyword:p,maxHeight:v,updateHeight:y,getSelection:o,handleCreateWorkOrder:s,handleCurrentChange:T,handleCommand:D,currentLabel:R,currentIcon:U,personnel:F,supervisor:J,ViewTask:Ue,ref:b,reactive:C,computed:L,onMounted:z,onBeforeUnmount:M,watch:A,get EditPen(){return re},get List(){return ee},get Menu(){return $},get Search(){return X},get router(){return P},get searchWorkOrders(){return B},TableView:Ye,CardTable:te};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}},Xe={class:"page-layout"},$e={class:"header-title"},er={class:"left-header"},rr={class:"right-header"},ir={key:1,class:"dashboard-body"},tr={class:"left-container"},ar={class:"right-container"};function lr(q,i,m,e,w,g){const a=c("el-input"),f=c("Filter"),u=c("el-icon"),n=c("arrow-down"),p=c("el-text"),v=c("el-dropdown-item"),y=c("el-dropdown-menu"),o=c("el-dropdown"),s=c("el-button");return _(),N("div",null,[l("div",Xe,[l("div",$e,[l("div",er,[r(a,{modelValue:e.keyword,"onUpdate:modelValue":i[0]||(i[0]=T=>e.keyword=T),placeholder:"Search Work Order",style:{width:"240px"},size:"small","prefix-icon":e.Search,clearable:""},null,8,["modelValue","prefix-icon"]),r(u,{style:{cursor:"pointer"},title:"Filter"},{default:t(()=>[r(f)]),_:1})]),l("div",rr,[h(" Create Button "),r(o,{onCommand:e.handleCommand},{dropdown:t(()=>[r(y,null,{default:t(()=>[r(v,{command:"b"},{default:t(()=>[r(u,null,{default:t(()=>[r(e.Menu)]),_:1}),i[1]||(i[1]=d(" Dashboard View"))]),_:1,__:[1]}),r(v,{command:"a"},{default:t(()=>[r(u,null,{default:t(()=>[r(e.List)]),_:1}),i[2]||(i[2]=d(" Table View"))]),_:1,__:[2]})]),_:1})]),default:t(()=>[r(p,{class:"el-dropdown-link",style:{border:"solid 1px #d5d5d5",padding:"5px"}},{default:t(()=>[r(u,null,{default:t(()=>[(_(),S(ie(e.currentIcon)))]),_:1}),d(" "+k(e.currentLabel),1),r(u,{class:"el-icon--right"},{default:t(()=>[r(n)]),_:1})]),_:1})]),_:1}),r(s,{class:"filter-item",type:"primary",icon:e.EditPen,onClick:e.handleCreateWorkOrder,"aria-label":q.$t("workOrder.actions.createWorkOrder")},{default:t(()=>[d(k(q.$t("workOrder.actions.createWorkOrder")),1)]),_:1},8,["icon","aria-label"])])]),e.currentView===2?(_(),S(e.TableView,{key:0})):h("v-if",!0),e.currentView===1?(_(),N("div",ir,[l("div",tr,[h(` <MaintenanceCardTable
              :items="items"
              :pageSize="pageSize"
              :module="parseInt(2)"
              @requestData="handleRequestData"
              :height="height"
              :totalItems="totalItems"
              :handleCurrentChange="handleCurrentChange"
              :currentPage="listQuery.page"
            /> `),r(e.CardTable,{onSelection:e.getSelection,module:3,data:e.items,maxHeight:e.maxHeight,totalItems:e.totalItems,handleCurrentChange:e.handleCurrentChange,currentPage:e.listQuery.page},null,8,["data","maxHeight","totalItems","currentPage"])]),l("div",ar,[e.selectedData?(_(),S(e.ViewTask,{key:0,wo:e.selectedData,height:e.height,personnelList:e.personnel,supervisorList:e.supervisor},null,8,["wo","height","personnelList","supervisorList"])):h("v-if",!0)])])):h("v-if",!0)]),r(p,null,{default:t(()=>[d(k(e.items),1)]),_:1})])}const Rr=O(Ze,[["render",lr],["__scopeId","data-v-f1b7f112"],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/views/task/index.vue"]]);export{Rr as default};
