import"../vue/vue.Dfo81L2Q.js";import{_ as R,u as M}from"../../assets/index-CE-d1vf_.js";import{e as D}from"../index/index.C3a64WJt.js";import{a as A}from"../vue-router/vue-router.30cuaQZO.js";import{c as y,o as s,a as t,D as j,E as P,d as S,r as O,_ as E,j as p,S as l,am as h,as as I,O as i,M as K,Q as c,K as a,R as _,L as f}from"../@vue/@vue.CVGyaoMH.js";import{E as H}from"../element-plus/element-plus.CU5xiOkY.js";import"../pinia/pinia.CzPcBe5J.js";import"../vue-demi/vue-demi.-dVQ4Px2.js";import"../js-cookie/js-cookie.Cz0CWeBA.js";import"../geotiff/geotiff.Dp1pzeXC.js";import"../path-to-regexp/path-to-regexp.i8-bKtXe.js";import"../fuse.js/fuse.js.BiDyM4rQ.js";import"../path-browserify/path-browserify.DkEToxTs.js";import"../screenfull/screenfull.DmVOzVZz.js";import"../vue-i18n/vue-i18n.DjO1PVT4.js";import"../@intlify/@intlify.BhOIvmlS.js";import"../mitt/mitt.DJ65BbbF.js";import"../lodash-es/lodash-es.BLHqGvLj.js";import"../@element-plus/@element-plus.BNeHluFm.js";import"../@vueuse/@vueuse.B5lT-MN9.js";import"../axios/axios.Dq7h7Pqt.js";import"../nprogress/nprogress._Z8YfKSV.js";/* empty css                                 */import"../clipboard/clipboard.DAe4Lk7l.js";import"../vue3-lottie/vue3-lottie.DS19j_I8.js";import"../lottie-web/lottie-web.fKmgUVyQ.js";import"../@popperjs/@popperjs.D_chPuIy.js";import"../@ctrl/@ctrl.r5W6hzzQ.js";import"../dayjs/dayjs.C0sY0_St.js";import"../async-validator/async-validator.D3FX-SGt.js";import"../memoize-one/memoize-one.BdPwpGay.js";import"../normalize-wheel-es/normalize-wheel-es.BQoi3Ox2.js";import"../@floating-ui/@floating-ui.85_40PfK.js";const N=S({name:"MesThumb"}),V=Object.assign(N,{props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}},setup(m,{expose:n}){n();const e={props:m,__MACROS_defineComponent:S};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),z={class:"pan-info"},B={class:"pan-info-roles-container"};function L(m,n,g,e,r,w){return s(),y("div",{style:P({zIndex:e.props.zIndex,height:e.props.height,width:e.props.width}),class:"pan-item"},[t("div",z,[t("div",B,[j(m.$slots,"default",{},void 0,!0)])]),t("div",{style:P({backgroundImage:`url(${e.props.image})`}),class:"pan-thumb"},null,4)],4)}const C=R(V,[["render",L],["__scopeId","data-v-050e3cb1"],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/components/MesThumb/src/index.vue"]]),U=Object.assign(C,{install(m){m.component(C.name,C)}}),q=S({name:"UserCenter"}),Q=Object.assign(q,{setup(m,{expose:n}){n();const g=A(),e=O(!1),r=M(),w={0:"未知",1:"密码登录",2:"验证码登录",3:"第三方登录"},o=E({avatar:p(()=>r.avatar),name:p(()=>r.name),phone:p(()=>r.phone),email:p(()=>r.email),identity:p(()=>r.identity),isPerfect:p(()=>r.avatar&&r.name&&r.phone&&r.email&&r.identity)}),u=O([{key:"method",title:"登录方式",dataKey:"method",align:"center",width:106,cellRenderer:({rowData:d})=>l("div",null,[w[d.method]])},{key:"deviceType",title:"设备名称",dataKey:"deviceType",align:"center",width:231},{key:"deviceOs",title:"系统",dataKey:"deviceOs",align:"center",width:110},{key:"loginAddr",title:"登录地点",dataKey:"loginAddr",align:"center",width:231},{key:"loginTime",title:"最后登录时间",dataKey:"loginTime",align:"center",width:231}]),k=O([]),x=async()=>{e.value=!0;try{const{code:d,data:v}={code:200,data:[]};d==200&&(k.value=v)}catch{}finally{e.value=!1}};x();const b={router:g,loading:e,userStore:r,LoginMethod:w,set:o,columns:u,tableData:k,getHistory:x,bindHandle:async d=>{if(d!=2){H({message:"此组件还未开发",type:"warning"});return}g.push("/user/attestation")},__MACROS_defineComponent:S,ref:O,reactive:E,computed:p,get useUserStore(){return M},get encryptionPhone(){return D},get useRouter(){return A},get ElMessage(){return H},get MesThumb(){return U}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),W={class:"account-container flex-row flex-level-center"},F={class:"center-box"},G={class:"flex-row"},J={class:"card purple"},X={class:"flex-row flex-vertical-center"},Y={class:"circle"},Z={class:"tips-info flex-column flex-vertical-center"},$={class:"f1"},ee={class:"f2"},te={class:"card orange"},ne={class:"flex-row flex-vertical-center"},se={class:"circle"},oe={class:"tips-info flex-column flex-vertical-center"},ie={class:"f1"},re={class:"f2"},le={class:"card green"},ae={class:"flex-row flex-vertical-center"},ce={class:"circle"},de={class:"tips-info flex-column flex-vertical-center"},_e={class:"f1"},me={class:"f2"},pe={class:"card blue"},fe={class:"flex-row flex-vertical-center"},ue={class:"circle"},ve={class:"tips-info flex-column flex-vertical-center"},he={class:"f1"},ge={class:"f2"},ye={class:"card-section"},we={class:"login-title flex-row flex-between flex-vertical-center"},ke={style:{cursor:"pointer"}},xe={class:"avatar-box flex-column flex-level-center flex-vertical-center"},be={class:"user-name ellipsis"},Oe={class:"phone"},Se={key:0},Ce={key:1};function Te(m,n,g,e,r,w){const o=h("svg-icon"),u=h("el-button"),k=h("el-tooltip"),x=h("ArrowRight"),T=h("el-icon"),b=h("el-table-v2"),d=I("loading");return s(),y("div",W,[i("  "),t("div",F,[i(" 基础信息 "),t("div",G,[i("绑定手机"),t("div",J,[t("div",X,[t("div",Y,[l(o,{"icon-class":"phone_1",class:"icon"})]),t("div",Z,[t("div",$,[n[5]||(n[5]=c(" 绑定手机 ")),e.set.phone?(s(),a(o,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),a(o,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",ee,_(e.set.phone?"已绑定手机":"未绑定，请尽快绑定"),1)])]),l(u,{class:"btn",type:"info",onClick:n[0]||(n[0]=v=>e.bindHandle(1))},{default:f(()=>[c(_(e.set.phone?"更换手机":"去绑定"),1)]),_:1})]),i("实名认证"),t("div",te,[t("div",ne,[t("div",se,[l(o,{"icon-class":"safe",class:"icon"})]),t("div",oe,[t("div",ie,[n[6]||(n[6]=c(" 实名认证 ")),e.set.identity?(s(),a(o,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),a(o,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",re,_(e.set.identity?"已实名认证":"请尽快完成实名认证"),1)])]),e.set.identity?i("v-if",!0):(s(),a(u,{key:0,class:"btn",type:"info",onClick:n[1]||(n[1]=v=>e.bindHandle(2))},{default:f(()=>n[7]||(n[7]=[c("去认证")])),_:1,__:[7]}))]),i("绑定邮箱"),t("div",le,[t("div",ae,[t("div",ce,[l(o,{"icon-class":"msg_1",class:"icon"})]),t("div",de,[t("div",_e,[n[8]||(n[8]=c(" 绑定邮箱 ")),e.set.phone?(s(),a(o,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),a(o,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",me,_(e.set.email?"已绑定邮箱":"未绑定，请尽快绑定"),1)])]),l(u,{class:"btn",type:"info",onClick:n[2]||(n[2]=v=>e.bindHandle(3))},{default:f(()=>[c(_(e.set.email?"更换邮箱":"去绑定"),1)]),_:1})]),i("个人信息"),t("div",pe,[t("div",fe,[t("div",ue,[l(o,{"icon-class":"text",class:"icon"})]),t("div",ve,[t("div",he,[n[9]||(n[9]=c(" 个人信息 ")),e.set.isPerfect?(s(),a(o,{key:0,"icon-class":"ok",class:"status-ok"})):(s(),a(o,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),t("div",ge,_(e.set.isPerfect?"个人信息已完善":"个人信息未完善"),1)])]),e.set.isPerfect?i("v-if",!0):(s(),a(u,{key:0,class:"btn",type:"info",onClick:n[3]||(n[3]=v=>e.bindHandle(4))},{default:f(()=>n[10]||(n[10]=[c("去完善")])),_:1,__:[10]}))])]),i(" 登录历史 "),K((s(),y("div",ye,[t("div",we,[l(k,{class:"box-item",effect:"dark",content:"此处模拟了10W条数据",placement:"top-start"},{default:f(()=>n[11]||(n[11]=[t("span",{class:"title"},"登录历史",-1)])),_:1,__:[11]}),t("p",ke,[t("span",{class:"right-tips",onClick:n[4]||(n[4]=v=>e.router.push("/user/history"))},"查看更多"),l(T,{color:"#1890ff"},{default:f(()=>[l(x)]),_:1})])]),i(" Element 虚拟表格"),l(b,{class:"login-history-table",columns:e.columns,data:e.tableData,width:910,height:210,fixed:!1},null,8,["columns","data"]),i(" Element 基础table "),i(`<el-workOrder
            :data="tableData"
            ref="workOrder"
            height="210"
            style="width: 100%"
        >
          <el-workOrder-column
              prop="method"
              label="登录方式"
              width="106"
              align="center"
          >
            <template #default="{ row }">
              {{ LoginMethod[row.method] }}
            </template>
          </el-workOrder-column>
          <el-workOrder-column
              prop="deviceType"
              label="设备名称"
              width="231"
              align="center"
          >
          </el-workOrder-column>
          <el-workOrder-column
              prop="deviceOs"
              label="系统"
              width="110"
              align="center"
          >
          </el-workOrder-column>
          <el-workOrder-column
              prop="loginAddr"
              label="登录地点"
              width="231"
              align="center"
          >
          </el-workOrder-column>
          <el-workOrder-column
              prop="loginTime"
              label="最后登录时间"
              width="231"
              align="center"
          >
          </el-workOrder-column>
        </el-workOrder>`)])),[[d,e.loading]]),i("  "),n[12]||(n[12]=t("div",{class:"card-section",style:{height:"330px"}},null,-1))]),i("  "),t("div",xe,[l(e.MesThumb,{width:"150px",height:"150px",image:e.set.avatar},{default:f(()=>n[13]||(n[13]=[c("Vite Element Admin Admin Admin Admin")])),_:1,__:[13]},8,["image"]),t("span",be," Hi,"+_(e.set.name||"小灰灰"),1),t("span",Oe,[e.set.phone?(s(),y("span",Se,_(e.encryptionPhone(e.set.phone)),1)):(s(),y("span",Ce," 你还未绑定手机 "))])])])}const lt=R(Q,[["render",Te],["__scopeId","data-v-19e3d777"],["__file","/home/erikyu/dev/mes-maintenance-frontend/src/views/userCenter/index.vue"]]);export{lt as default};
